<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Only For Dimple â¤ï¸</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box}

body{
 margin:0;
 font-family:'Segoe UI',sans-serif;
 color:white;
 background:url('img1.jpeg') repeat;
 background-size:cover;
 animation:bgMove 120s linear infinite;
 overflow-x:hidden;
}

@keyframes bgMove{
 from{background-position:0 0;}
 to{background-position:-1500px 0;}
}

.container{padding:6vw;text-align:center}

.card{
 background:rgba(0,0,0,0.6);
 border-radius:6vw;
 padding:6vw;
 margin:10vw auto;
 max-width:95%;
 box-shadow:0 0 25px rgba(0,0,0,.6);
}

/* blur sirf PC pe */
@media(min-width:769px){
 .card{backdrop-filter:blur(8px)}
}

.gallery{
 position:relative;
 width:100%;
 height:60vw;
 max-height:300px;
 overflow:hidden;
 border-radius:5vw;
}
.gallery img{
 width:100%;
 height:100%;
 object-fit:cover;
 position:absolute;
 opacity:0;
 transition:opacity 1.2s ease;
}

/* 3D gallery slow on phone */
.box3d{
 width:200px;
 height:280px;
 transform-style:preserve-3d;
 animation:rotate3d 60s linear infinite;
}

@media(max-width:768px){
 .box3d{animation-duration:90s}
 .confetti,.star{display:none}
}

@keyframes rotate3d{
 from{transform:perspective(1000px) rotateY(0deg);}
 to{transform:perspective(1000px) rotateY(360deg);}
}

.heart,.confetti,.star{
 position:fixed;
 will-change:transform;
}
</style>

</head>

<body>

<audio id="bgm" loop>
  <source src="song.mp3" type="audio/mpeg">
</audio>
<button id="musicBtn" onclick="toggleMusic()">Play / Pause</button>
<div id="diaryIcon" onclick="openDiary()">ğŸ“”</div>

<div class="container">
<h1>Hey â¤ï¸</h1>
<p>Ye website normal nahiâ€¦ ye meri feelings hai ğŸŒ™</p>

<p><b>Question:</b> Hum pehli baar kab mile the?</p>
<input id="answer" type="password" placeholder="Enter password ğŸ’–">
<button onclick="unlock()">Enter ğŸ’–</button>

<div id="content" style="display:none">

<!-- ANNIVERSARY -->
<div class="card">
<h2>Happy Anniversary bacha â¤ï¸</h2>
<div class="paw" onclick="openSecret()">ğŸ¾</div>
<p>
<b>1 December 2024</b> â€” jab sab kuch special bana âœ¨<br><br>
<b>19 January 2025 Â· 1:30 AM</b> â€” jab main aur tum hum hogye ğŸ’«
</p>
</div>

<!-- COUNTER -->
<div class="card">
<h2>â³ Time Since We Fell in Love â³</h2>
<div class="counter">
<span id="days">0</span> Days
<span id="hours">0</span> Hours
<span id="minutes">0</span> Minutes
<span id="seconds">0</span> Seconds
</div>
</div>

<!-- MOMENTS -->
<div class="card">
<h2>ğŸ“¸ Our Moments ğŸ“¸</h2>
<div class="gallery">
<img src="img1.jpeg">
<img src="img2.jpeg">
<img src="img3.jpeg">
<img src="img4.jpeg">
</div>
</div>
<!-- ğŸ’« 3D MEMORY GALLERY -->
<div class="card">
  <h2>ğŸ’« 3D Memory Gallery ğŸ’«</h2>

  <div class="gallery3d-wrapper">
    <div class="box3d">
      <span style="--i:1"><img src="1.jpg"></span>
      <span style="--i:2"><img src="2.jpg"></span>
      <span style="--i:3"><img src="3.jpg"></span>
      <span style="--i:4"><img src="4.jpg"></span>
      <span style="--i:5"><img src="5.jpg"></span>
      <span style="--i:6"><img src="6.jpg"></span>
      <span style="--i:7"><img src="7.jpg"></span>
      <span style="--i:8"><img src="8.jpg"></span>
      <span style="--i:9"><img src="9.jpg"></span>
      <span style="--i:10"><img src="10.jpg"></span>
    </div>
  </div>
</div>

<!-- PROMISE -->
<div class="card">
<h2>ğŸ’ My Promise ğŸ’</h2>
<p>Main kabhi door nahi jaunga.<br>Har pal tumhare saath. Main promise karta hoon ki hamesha tumhare saath rahunga, tumhe har mushkil mein support dunga, tumhari har baat dhyan se sununga, aur tumhe poore dil se aur sachche pyar se chahunga. Jo bhi ho, main hamesha tumhare liye wahan rahunga, kyunki tum meri duniya ho â¤ï¸</p>
</div>

<!-- FUTURE -->
<div class="card">
<h2>ğŸ’Œ Future Message ğŸ’Œ</h2>
<p>
Agar future me tum ye padh rahi ho,<br>
toh yaad rakhna â€” main abhi bhi wahi hoon jb hum mile the aur mene pucha tha r u editor? me na badla hu aur na badlunga tumhare lliye mera pyaar humesa tumhara hai ğŸ’–
</p>
</div>

<!-- HIDDEN -->
<div class="card" id="secret">
<h2>ğŸ¾ Hidden Message ğŸ¾</h2>
<p>Tum meri zindagi ka sabse khoobsurat hissa ho  jise me kabhi dur nhi jana jata â¤ï¸</p>
</div>

<h2>Forever Yours,<br>Tanush â¤ï¸</h2>
</div>
</div>

<!-- ğŸ‚ BIRTHDAY POPUP -->
<div id="birthdayPopup">
  <h3>ğŸ‚ Birthday Countdown</h3>
  <p>5 May ğŸ’–</p>
  <div id="bdayTimer">Loading...</div>
</div>

<!-- ğŸ’– LOVE DAY POPUP -->
<div id="lovePopup" style="display:none">
  <h2 id="loveTitle"></h2>
  <p id="loveMsg"></p>
  <button onclick="closeLove()">Close â¤ï¸</button>
</div>

<div id="panda" style="display:none">ğŸ¼</div>

<!-- ğŸ“” DIARY PAGE -->
<div id="diaryPage">
  <div class="diaryBox">
    <h3>ğŸ“” Personal Diary</h3>
    <p id="todayDate"></p>
    <button id="listBtn">ğŸ“– List</button>
    <div id="dateList" style="display:none; max-height:150px; overflow-y:auto; border:1px solid #ffb3c1; margin:5px 0; border-radius:10px; background:#fff0f8; padding:5px;"></div>
    <textarea id="diaryText" placeholder="Aaj jo dil me hai likho..."></textarea>
    <input type="file" id="diaryPhoto" accept="image/*">
    <button onclick="saveDiary()">Save</button>
    <button onclick="closeDiary()">Close</button>
    <hr>
    <div id="oldEntries"></div>
  </div>
</div>
<!-- ğŸŒ¸ Flower Button -->
<div class="heart-flower-btn" onclick="openFlowerScreen()">ğŸŒ¸</div>

<script>
  const isMobile = window.innerWidth < 768;
let music=document.getElementById("bgm");
function toggleMusic(){music.paused?music.play():music.pause();}

// Unlock
function unlock(){
 let a=document.getElementById("answer").value.toLowerCase().trim();
 if(a==="01/12/2024"||a==="1 december 24"){
   document.getElementById("content").style.display="block";
   music.play();
   startSlideshow();
   startCounter();
   hearts();
   stars();
 }else alert("Sirf Dimple jaanti hai ğŸ˜‰");
}

// Slideshow
let slide=0;
function startSlideshow(){
 let imgs=document.querySelectorAll(".gallery img");
 imgs[0].style.opacity=1;
 setInterval(()=>{ imgs.forEach(i=>i.style.opacity=0); slide=(slide+1)%imgs.length; imgs[slide].style.opacity=1; },3000);
}

// Hidden message
function openSecret(){ document.getElementById("secret").style.display="block"; }

// Counter
function startCounter(){
 const start=new Date("2025-01-19T01:30:00");
 setInterval(()=>{
  let diff=Math.floor((new Date()-start)/1000);
  document.getElementById("days").innerText=Math.floor(diff/86400);
  diff%=86400;
  document.getElementById("hours").innerText=Math.floor(diff/3600);
  diff%=3600;
  document.getElementById("minutes").innerText=Math.floor(diff/60);
  document.getElementById("seconds").innerText=diff%60;
 },1000);
}

// Hearts
function hearts(){
 let count=0;
 let max=isMobile?20:80;
 let speed=isMobile?700:400;

 let i=setInterval(()=>{
  if(count>=max){clearInterval(i);return;}
  count++;
  let h=document.createElement("div");
  h.className="heart";
  h.innerHTML="â¤ï¸";
  h.style.left=Math.random()*100+"vw";
  h.style.animationDuration=(isMobile?6:4)+"s";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),8000);
 },speed);
}


// Shooting stars
function stars(){
 if(isMobile) return;
 setInterval(()=>{
  let s=document.createElement("div");
  s.className="star";
  s.style.left=Math.random()*100+"vw";
  s.style.top=Math.random()*50+"vh";
  document.body.appendChild(s);
  setTimeout(()=>s.remove(),2000);
 },1500);
}


/* ğŸ‚ BIRTHDAY COUNTDOWN */
function birthdayCountdown(){
  const now = new Date();
  let year = now.getFullYear();
  let birthday = new Date(year + "-05-05T00:00:00");
  if(now > birthday){ birthday = new Date((year + 1) + "-05-05T00:00:00"); }
  setInterval(()=>{
    let diff = Math.floor((birthday - new Date()) / 1000);
    let days = Math.floor(diff / 86400); diff %= 86400;
    let hours = Math.floor(diff / 3600); diff %= 3600;
    let minutes = Math.floor(diff / 60);
    let seconds = diff % 60;
    document.getElementById("bdayTimer").innerHTML = `${days}d ${hours}h ${minutes}m ${seconds}s`;
  },1000);
}
birthdayCountdown();

/* ğŸ’– LOVE DAYS SYSTEM */
const loveDays = {
 "02-07": ["ğŸŒ¹ Rose Day", "Aaj Rose Day hai ğŸŒ¹\nJaise rose special hota hai, waise hi tum â¤ï¸"],
 "02-08": ["ğŸ’ Propose Day", "Aaj Propose Day ğŸ’\nMain roz tumhe choose karta hoon â¤ï¸"],
 "02-09": ["ğŸ« Chocolate Day", "Chocolate sweet hoti hai ğŸ«\nPar tum usse bhi zyada â¤ï¸"],
 "02-10": ["ğŸ§¸ Teddy Day", "Aaj Teddy Day ğŸ§¸\nTum mera comfort ho â¤ï¸"],
 "02-11": ["ğŸ¤ Promise Day", "Aaj Promise Day ğŸ¤\nMain kabhi tumhara saath nahi chhodunga â¤ï¸"],
 "02-12": ["ğŸ¤— Hug Day", "Ek tight hug tumhare liye ğŸ¤—â¤ï¸"],
 "02-13": ["ğŸ’‹ Kiss Day", "Aaj Kiss Day ğŸ’‹\nFeelings bina bole samajhne ka din â¤ï¸"],
 "02-14": ["â¤ï¸ Valentineâ€™s Day", "Happy Valentineâ€™s Day â¤ï¸\nTum meri hamesha wali Valentine ho ğŸ’–"]
};
function checkLoveDay(){
  const now = new Date();
  const key = String(now.getMonth()+1).padStart(2,'0') + "-" + String(now.getDate()).padStart(2,'0');
  if(loveDays[key]){
    document.getElementById("loveTitle").innerText = loveDays[key][0];
    document.getElementById("loveMsg").innerText = loveDays[key][1];
    document.getElementById("lovePopup").style.display="block";
  }
}
function closeLove(){ document.getElementById("lovePopup").style.display="none"; }
checkLoveDay();

/* ğŸ‰ SPECIAL DAYS EFFECTS */
function specialEffects(){
 const d=new Date();
 const m=d.getMonth()+1;
 const day=d.getDate();
 if(m===2 && day===10){ document.getElementById("panda").style.display="block"; }
 if(m===2 && day===14){ confetti(); }
 if(m===5 && day===5){ confetti(); }
}
function confetti(){
 let c=0;
 let max=isMobile?30:120;
 let i=setInterval(()=>{
  if(c>=max){clearInterval(i);return;}
  c++;
  let e=document.createElement("div");
  e.className="confetti";
  e.innerHTML=["ğŸ‰","ğŸ’–","âœ¨","ğŸˆ","â¤ï¸"][Math.floor(Math.random()*5)];
  e.style.left=Math.random()*100+"vw";
  e.style.animationDuration=(isMobile?5:3)+"s";
  document.body.appendChild(e);
  setTimeout(()=>e.remove(),6000);
 },isMobile?600:300);
}

specialEffects();

/* ğŸ“” REAL DIARY SYSTEM */
const diaryPageEl = document.getElementById("diaryPage");
const oldEntriesEl = document.getElementById("oldEntries");
const todayDateEl = document.getElementById("todayDate");
const listBtnEl = document.getElementById("listBtn");
const dateListEl = document.getElementById("dateList");
let diaryEntriesArr = [];
let currentIndex = 0;

function openDiary(){
  let author = prompt("Kaun diary likh raha hai? Tanush / Dimple ğŸ’–").trim();
  if(author !== "Tanush" && author !== "Dimple"){ alert("Sirf Tanush ya Dimple hi likh sakte hain ğŸ’Œ"); return; }

  let p = prompt("Diary password ğŸ’–");
  if(p !== "dimple"){ alert("Wrong password âŒ"); return; }

  diaryPageEl.style.display = "flex";
  setTimeout(()=> diaryPageEl.classList.add("pageOpen"), 50);

  diaryEntriesArr = JSON.parse(localStorage.getItem("diary") || "[]");
  currentIndex = 0;
  loadDiary(author);
}

function saveDiary(){
  let text = document.getElementById("diaryText").value.trim();
  if(text === ""){ alert("Kuch toh likho â¤ï¸"); return; }

  let photoInput = document.getElementById("diaryPhoto");
  let photo = "";
  if(photoInput.files && photoInput.files[0]){
    let reader = new FileReader();
    reader.onload = function(e){ photo = e.target.result; pushDiaryEntry(text, photo); };
    reader.readAsDataURL(photoInput.files[0]);
  } else { pushDiaryEntry(text, photo); }
}

function pushDiaryEntry(text, photo){
  let d = new Date().toDateString();
  let author = prompt("Enter Author Again (Tanush/Dimple) ğŸ’–") || "Unknown";
  let diary = JSON.parse(localStorage.getItem("diary") || "[]");
  diary.unshift({date:d, author, text, photo});
  localStorage.setItem("diary", JSON.stringify(diary));
  document.getElementById("diaryText").value = "";
  document.getElementById("diaryPhoto").value = "";
  diaryEntriesArr = diary;
  currentIndex = 0;
  loadDiary(author);
}

function loadDiary(author){
  todayDateEl.innerText = "ğŸ“… " + new Date().toDateString();
  oldEntriesEl.innerHTML = "";
  dateListEl.innerHTML = "";

  diaryEntriesArr.forEach((entry,i)=>{
    const div = document.createElement("div");
    div.className = "diaryEntry";
    if(i === currentIndex) div.classList.add("active");
    div.innerHTML = `<b>${entry.date} - ${entry.author}</b><br><br>${entry.text}` + (entry.photo?`<br><img src="${entry.photo}" style="width:100%; margin-top:10px; border-radius:10px;">`:"");
    oldEntriesEl.appendChild(div);

    // populate list
    const dBtn = document.createElement("div");
    dBtn.style.padding="5px";
    dBtn.style.cursor="pointer";
    dBtn.style.borderBottom="1px solid #ffb3c1";
    dBtn.innerText = entry.date + " - " + entry.author;
    dBtn.onclick = ()=>{ currentIndex=i; updateActiveEntry(); dateListEl.style.display="none"; };
    dateListEl.appendChild(dBtn);
  });
}

function updateActiveEntry(){
  const entries = document.querySelectorAll(".diaryEntry");
  entries.forEach(e=>e.classList.remove("active"));
  if(entries[currentIndex]) entries[currentIndex].classList.add("active");
}

listBtnEl.onclick = ()=>{ dateListEl.style.display = dateListEl.style.display==="none"?"block":"none"; }

function closeDiary(){
  diaryPageEl.classList.remove("pageOpen");
  setTimeout(()=> diaryPageEl.style.display="none",700);
}

// Swipe support
let startX = 0;
oldEntriesEl.ontouchstart = (e)=>{ startX = e.touches[0].clientX; };
oldEntriesEl.ontouchend = (e)=>{
  let endX = e.changedTouches[0].clientX;
  if(endX < startX - 50){ if(currentIndex<diaryEntriesArr.length-1){ currentIndex++; updateActiveEntry(); } }
  else if(endX > startX + 50){ if(currentIndex>0){ currentIndex--; updateActiveEntry(); } }
};
function openFlowerScreen(){
  window.location.href = "./flower.html";
}
</script>

</body>

</html>
